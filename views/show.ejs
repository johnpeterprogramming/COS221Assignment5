<h1>Manage Show</h1>

<form action="/show/update/<%= show.CatalogID %>" method="post">
    <label for="">Title:</label>
    <input type="text" name="Title" id="Title" value="<%= show.Title %>">

    <p><span class="fw-b">Views:</span> <%= show.Views %></p>
    
    <label for="">Director:</label>
    <input type="text" name="Director" id="Director" value="<%= show.Director %>">

    <label for="">ReleaseDate:</label>
    <input type="year" name="ReleaseDate" id="ReleaseDate">

    <label for="Genre">Genre:</label>
    <input type="text" id="Genre" name="Genre" class="mx-1" value="<%= show.Genre %>">

    <!-- NUM SEASONS AND EPISODES CANT' BE UPDATED YET --> 
    <label for="">Seasons:</label>
    <input type="text" name="Seasons" id="Seasons" value="<%= show.Seasons %>">

    <label for="">Episodes:</label>
    <input type="text" name="Episodes" id="Episodes" value="<%= show.Episodes %>">


    
    <input type="submit" value="Update Details">
</form>
<form action="/show/delete/<%= show.CatalogID %>" method="post">
    <input type="submit" value="DELETE" class="btn btn-danger">
</form>

<div>
    <% if (actors.length > 0) { %>
        <h2>Actors:</h2>
        <% actors.forEach(actor => { %>
            <p><%= actor.FName %> <%= actor.LName %></p>
        <% }) %>
    <% } %>
</div>

<script>
    let release_date = "<%= show.ReleaseDate %>";

    // Convert string to date
    let date = new Date(release_date);
    document.getElementById("ReleaseDate").value = date.getFullYear();
</script>